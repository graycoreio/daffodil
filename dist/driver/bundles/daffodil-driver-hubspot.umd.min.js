!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define("@daffodil/driver/hubspot",["exports"],e):e(((t=t||self).daffodil=t.daffodil||{},t.daffodil.driver=t.daffodil.driver||{},t.daffodil.driver.hubspot={}))}(this,function(t){"use strict";function e(t,e){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var r,i,n=o.call(t),u=[];try{for(;(void 0===e||e-- >0)&&!(r=n.next()).done;)u.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(o=n.return)&&o.call(n)}finally{if(i)throw i.error}}return u}function o(){for(var t=[],o=0;o<arguments.length;o++)t=t.concat(e(arguments[o]));return t}var r=function(t){return Object.keys(t).map(function(e){return{name:e,value:t[e]}})},i=function(){function t(t,e,o,r,i){this.http=t,this.document=e,this.route=o,this.title=r,this.config=i}return t.prototype.submit=function(t){return this.http.post(this.generateUrl(this.config.portalId,this.config.guid,this.config.version),this.makeRequest(t))},t.prototype.makeRequest=function(t){return{fields:o(r(t)),context:{hutk:this.getCookie(),pageUri:this.getPageURI(),pageName:this.title.getTitle()}}},t.prototype.generateUrl=function(t,e,o){return void 0===o&&(o="v3"),"https://api.hsforms.com/submissions/"+o+"/integration/submit/"+t+"/"+e},t.prototype.getCookie=function(){if(!this.document)return null;var t=this.document.cookie.match("(^|;) ?hubspotutk=([^;]*)(;|$)");return t?t[2]:null},t.prototype.getPageURI=function(){return this.route?this.route.url:null},t}();t.DaffHubspotFormsService=i,t.daffHubspotFormsServiceFactory=function(t,e,o,r,n){return new i(t,e,o,r,n)},Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=daffodil-driver-hubspot.umd.min.js.map