{"version":3,"file":"daffodil-navigation-driver-in-memory.js","sources":["ng://@daffodil/navigation/driver/in-memory/backend/navigation.service.ts","ng://@daffodil/navigation/driver/in-memory/navigation.service.ts","ng://@daffodil/navigation/driver/in-memory/navigation-driver.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport {\n  InMemoryDbService,\n  RequestInfoUtilities,\n  ParsedRequestUrl,\n  STATUS\n} from 'angular-in-memory-web-api';\n\nimport { DaffNavigationTree } from '@daffodil/navigation';\nimport { DaffNavigationTreeFactory } from '@daffodil/navigation/testing';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DaffInMemoryBackendNavigationService implements InMemoryDbService {\n  navigationTree: DaffNavigationTree;\n\n  constructor(private navigationTreeFactory: DaffNavigationTreeFactory) {\n    this.navigationTree = this.navigationTreeFactory.create();\n  }\n\n  parseRequestUrl(url: string, utils: RequestInfoUtilities): ParsedRequestUrl {\n    return utils.parseRequestUrl(url);\n  }\n\n  createDb(): any {\n    return {\n      navigation: [this.navigationTree]\n    };\n  }\n\n  get(reqInfo: any) {\n    return reqInfo.utils.createResponse$(() => {\n      return {\n        body: this.navigationTree,\n        status: STATUS.OK\n      };\n    });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs';\n\nimport { DaffNavigationTree } from '@daffodil/navigation';\nimport { DaffNavigationServiceInterface } from '@daffodil/navigation/driver';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DaffInMemoryNavigationService implements DaffNavigationServiceInterface<DaffNavigationTree> {\n  url = '/api/navigation/';\n\n  constructor(private http: HttpClient) {}\n\n  get(navigationId: string): Observable<DaffNavigationTree> {\n    return this.http.get<DaffNavigationTree>(this.url + navigationId);\n  }\n}\n","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { DaffNavigationDriver } from '@daffodil/navigation/driver';\n\nimport { DaffInMemoryNavigationService } from './navigation.service';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ]\n})\nexport class DaffNavigationInMemoryDriverModule {\n  static forRoot(): ModuleWithProviders {\n    return {\n      ngModule: DaffNavigationInMemoryDriverModule,\n      providers: [\n        {\n          provide: DaffNavigationDriver,\n          useExisting: DaffInMemoryNavigationService\n        }\n      ]\n    };\n  }\n}\n"],"names":[],"mappings":";;;;;;;;;;;AAAA,MAca,oCAAoC;;;;IAG/C,YAAoB,qBAAgD;QAAhD,0BAAqB,GAArB,qBAAqB,CAA2B;QAClE,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,qBAAqB,CAAC,MAAM,EAAE,CAAC;KAC3D;;;;;;IAED,eAAe,CAAC,GAAW,EAAE,KAA2B;QACtD,OAAO,KAAK,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC;KACnC;;;;IAED,QAAQ;QACN,OAAO;YACL,UAAU,EAAE,CAAC,IAAI,CAAC,cAAc,CAAC;SAClC,CAAC;KACH;;;;;IAED,GAAG,CAAC,OAAY;QACd,OAAO,OAAO,CAAC,KAAK,CAAC,eAAe;;;QAAC;YACnC,OAAO;gBACL,IAAI,EAAE,IAAI,CAAC,cAAc;gBACzB,MAAM,EAAE,MAAM,CAAC,EAAE;aAClB,CAAC;SACH,EAAC,CAAC;KACJ;;;YA3BF,UAAU,SAAC;gBACV,UAAU,EAAE,MAAM;aACnB;;;;YAJQ,yBAAyB;;;;;IAMhC,8DAAmC;;;;;IAEvB,qEAAwD;;;;;;;ACjBtE,MAUa,6BAA6B;;;;IAGxC,YAAoB,IAAgB;QAAhB,SAAI,GAAJ,IAAI,CAAY;QAFpC,QAAG,GAAG,kBAAkB,CAAC;KAEe;;;;;IAExC,GAAG,CAAC,YAAoB;QACtB,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAqB,IAAI,CAAC,GAAG,GAAG,YAAY,CAAC,CAAC;KACnE;;;YAVF,UAAU,SAAC;gBACV,UAAU,EAAE,MAAM;aACnB;;;;YARQ,UAAU;;;;;IAUjB,4CAAyB;;;;;IAEb,6CAAwB;;;;;;;ACbtC,MAYa,kCAAkC;;;;IAC7C,OAAO,OAAO;QACZ,OAAO;YACL,QAAQ,EAAE,kCAAkC;YAC5C,SAAS,EAAE;gBACT;oBACE,OAAO,EAAE,oBAAoB;oBAC7B,WAAW,EAAE,6BAA6B;iBAC3C;aACF;SACF,CAAC;KACH;;;YAhBF,QAAQ,SAAC;gBACR,OAAO,EAAE;oBACP,YAAY;iBACb;aACF;;;;;;;;;;;;;;;;;;;;"}