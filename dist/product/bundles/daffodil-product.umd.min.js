!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/common"),require("@angular/core"),require("@ngrx/effects"),require("@ngrx/store"),require("rxjs"),require("rxjs/operators"),require("@ngrx/entity"),require("@daffodil/core"),require("apollo-angular"),require("graphql-tag")):"function"==typeof define&&define.amd?define("@daffodil/product",["exports","@angular/common","@angular/core","@ngrx/effects","@ngrx/store","rxjs","rxjs/operators","@ngrx/entity","@daffodil/core","apollo-angular","graphql-tag"],e):e(((t=t||self).daffodil=t.daffodil||{},t.daffodil.product={}),t.ng.common,t.ng.core,t.effects,t.store,t.rxjs,t.rxjs.operators,t.entity,t.core$1,t.apolloAngular,t.gql)}(this,function(t,e,r,n,i,o,c,u,a,s,d){"use strict";d=d&&d.hasOwnProperty("default")?d.default:d;var l=function(){return(l=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function p(t,e,r,n){var i,o=arguments.length,c=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,r,n);else for(var u=t.length-1;u>=0;u--)(i=t[u])&&(c=(o<3?i(c):o>3?i(e,r,c):i(e,r))||c);return o>3&&c&&Object.defineProperty(e,r,c),c}function f(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function m(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),c=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)c.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return c}function g(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(m(arguments[e]));return t}function P(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var y={Simple:"simple",Composite:"composite",Configurable:"configurable"};var b={ProductLoadAction:"[Product] Load Action",ProductLoadSuccessAction:"[Product] Load Success Action",ProductLoadFailureAction:"[Product] Load Failure Action",UpdateQtyAction:"[Product] Update Qty Action",ProductModifyAction:"[Product] Product Modify Action"},h=function(t){this.payload=t,this.type=b.ProductLoadAction};var v=function(t){this.payload=t,this.type=b.ProductLoadSuccessAction};var S=function(t){this.payload=t,this.type=b.ProductLoadFailureAction};var A=function(t){this.payload=t,this.type=b.UpdateQtyAction};var _={ProductGridLoadAction:"[ProductGrid] Load Action",ProductGridLoadSuccessAction:"[ProductGrid] Load Success Action",ProductGridLoadFailureAction:"[ProductGrid] Load Failure Action",ProductGridResetAction:"[ProductGrid] Reset Action"},C=function(){this.type=_.ProductGridLoadAction};var I=function(t){this.payload=t,this.type=_.ProductGridLoadSuccessAction};var j=function(t){this.payload=t,this.type=_.ProductGridLoadFailureAction};var D=function(){this.type=_.ProductGridResetAction};var M={BestSellersLoadAction:"[BestSellers] Load Action",BestSellersLoadSuccessAction:"[BestSellers] Load Success Action",BestSellersLoadFailureAction:"[BestSellers] Load Failure Action",BestSellersResetAction:"[BestSellers] Reset Action"},x=function(){this.type=M.BestSellersLoadAction};var q=function(t){this.payload=t,this.type=M.BestSellersLoadSuccessAction};var L=function(t){this.payload=t,this.type=M.BestSellersLoadFailureAction};var k=function(){this.type=M.BestSellersResetAction};var O={ConfigurableProductApplyAttributeAction:"[Configurable Product] Configurable Product Apply Attribute Action",ConfigurableProductRemoveAttributeAction:"[Configurable Product] Configurable Product Remove Attribute Action",ConfigurableProductToggleAttributeAction:"[Configurable Product] Configurable Product Toggle Attribute Action"},B=function(t,e,r){this.id=t,this.attributeId=e,this.attributeValue=r,this.type=O.ConfigurableProductApplyAttributeAction};var R=function(t,e){this.id=t,this.attributeId=e,this.type=O.ConfigurableProductRemoveAttributeAction};var G=function(t,e,r){this.id=t,this.attributeId=e,this.attributeValue=r,this.type=O.ConfigurableProductToggleAttributeAction};var E={CompositeProductApplyOptionAction:"[Composite Product] Composite Product Apply Option Action"},F=function(t,e,r,n){this.id=t,this.itemId=e,this.optionId=r,this.qty=n,this.type=E.CompositeProductApplyOptionAction};var w=function(){function t(t,e,r){this.platformId=t,this.store=e,this.dispatcher=r}return t.prototype.resolve=function(t){return this.store.dispatch(new h(t.paramMap.get("id"))),e.isPlatformBrowser(this.platformId)?o.of(!0):this.dispatcher.pipe(n.ofType(b.ProductLoadSuccessAction,b.ProductLoadFailureAction),c.mapTo(!0),c.take(1))},t.decorators=[{type:r.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:String,decorators:[{type:r.Inject,args:[r.PLATFORM_ID]}]},{type:i.Store},{type:i.ActionsSubject}]},t.ngInjectableDef=r.ɵɵdefineInjectable({factory:function(){return new t(r.ɵɵinject(r.PLATFORM_ID),r.ɵɵinject(i.Store),r.ɵɵinject(i.ActionsSubject))},token:t,providedIn:"root"}),t}();var $={products:[],loading:!1,errors:[]};function T(t,e){switch(void 0===t&&(t=$),e.type){case _.ProductGridLoadAction:return l({},t,{loading:!0});case _.ProductGridLoadSuccessAction:return l({},t,{loading:!1});case _.ProductGridLoadFailureAction:return l({},t,{loading:!1,errors:t.errors.concat(new Array(e.payload))});default:return t}}var V={selectedProductId:null,qty:1,loading:!1,errors:[]};function z(t,e){switch(void 0===t&&(t=V),e.type){case b.ProductLoadAction:return l({},t,{loading:!0,selectedProductId:e.payload});case b.ProductLoadSuccessAction:return l({},t,{loading:!1});case b.ProductLoadFailureAction:return l({},t,{loading:!1,errors:t.errors.concat(new Array(e.payload))});case b.UpdateQtyAction:return l({},t,{qty:e.payload});default:return t}}var Q={productIds:[],loading:!1,errors:[]},N=Object.assign({},Q);function H(t,e){switch(void 0===t&&(t=Q),e.type){case M.BestSellersLoadAction:return l({},t,{loading:!0});case M.BestSellersLoadSuccessAction:return l({},t,{loading:!1,productIds:U(e.payload)});case M.BestSellersLoadFailureAction:return l({},t,{loading:!1,errors:t.errors.concat(new Array(e.payload))});case M.BestSellersResetAction:return l({},N);default:return t}}function U(t){var e=new Array;return t.forEach(function(t){e.push(t.id)}),e}var K,X=function(){return K=K||u.createEntityAdapter()};function Y(t,e){void 0===t&&(t=X().getInitialState());var r=X();switch(e.type){case _.ProductGridLoadSuccessAction:case M.BestSellersLoadSuccessAction:return r.upsertMany(e.payload,t);case b.ProductLoadSuccessAction:return r.upsertOne(l({id:e.payload.id},e.payload),t);case _.ProductGridResetAction:return r.removeAll(t);default:return t}}var J=function(){var t;return function(){return t=t||u.createEntityAdapter()}}();function W(t,e){void 0===t&&(t=J().getInitialState());var r,n,i,o,c=J();switch(e.type){case _.ProductGridLoadSuccessAction:case M.BestSellersLoadSuccessAction:return c.upsertMany(e.payload.filter(function(t){return t.type===y.Configurable}).map(Z),t);case b.ProductLoadSuccessAction:return e.payload.type===y.Configurable?c.upsertOne(Z(e.payload),t):t;case O.ConfigurableProductApplyAttributeAction:return c.upsertOne({id:e.id,attributes:tt(t.entities[e.id].attributes,e.attributeId,e.attributeValue)},t);case O.ConfigurableProductRemoveAttributeAction:return c.upsertOne({id:e.id,attributes:et(t.entities[e.id].attributes,e.attributeId)},t);case O.ConfigurableProductToggleAttributeAction:return c.upsertOne({id:e.id,attributes:(r=t.entities[e.id].attributes,n=e.attributeId,i=e.attributeValue,o=r.findIndex(function(t){return t.code===n}),o>-1&&r[o].value===i?et(t.entities[e.id].attributes,e.attributeId):tt(t.entities[e.id].attributes,e.attributeId,e.attributeValue))},t);default:return t}}function Z(t){return{id:t.id,attributes:[]}}function tt(t,e,r){var n=t.findIndex(function(t){return t.code===e});return g(n>-1?t.slice(0,n):t,[{code:e,value:r}])}function et(t,e){var r=t.findIndex(function(t){return t.code===e});return r>-1?t.slice(0,r):t}var rt=function(){var t;return function(){return t=t||u.createEntityAdapter()}}();function nt(t,e){var r;void 0===t&&(t=rt().getInitialState());var n=rt();switch(e.type){case _.ProductGridLoadSuccessAction:case M.BestSellersLoadSuccessAction:return n.upsertMany(e.payload.filter(function(t){return t.type===y.Composite}).map(function(t){return it(t)}),t);case b.ProductLoadSuccessAction:return e.payload.type===y.Composite?n.upsertOne(it(e.payload),t):t;case E.CompositeProductApplyOptionAction:return n.upsertOne({id:e.id,items:l({},t.entities[e.id].items,(r={},r[e.itemId]={value:e.optionId,qty:e.qty?e.qty:1},r))},t);default:return t}}function it(t){return{id:t.id,items:t.items.reduce(function(t,e){var r;return l({},t,((r={})[e.id]=function(t){var e=t.options.findIndex(function(t){return t.is_default});return e>-1?{value:t.options[e].in_stock?t.options[e].id:null,qty:t.options[e].quantity}:{value:null,qty:null}}(e),r))},{})}}var ot={products:Y,productGrid:T,product:z,bestSellers:H,configurableProductAttributes:W,compositeProductOptions:nt};var ct=function(){var t;return function(){return t=t||{selectProductState:i.createFeatureSelector("product")}}}();var ut=function(){var t=ct().selectProductState,e=i.createSelector(t,function(t){return t.product}),r=i.createSelector(e,function(t){return t.selectedProductId});return{selectSelectedProductState:e,selectSelectedProductId:r,selectSelectedProductQty:i.createSelector(e,function(t){return t.qty}),selectSelectedProductLoadingState:i.createSelector(e,function(t){return t.loading}),selectSelectedProduct:i.createSelector(t,r,function(t,e){return t.products.entities[e]})}},at=function(){var t;return function(){return t=t||ut()}}();var st=function(){var t=ct().selectProductState,e=X().getSelectors(),r=i.createSelector(t,function(t){return t.products}),n=i.createSelector(r,e.selectIds),o=i.createSelector(r,e.selectEntities),c=i.createSelector(r,e.selectAll),u=i.createSelector(r,e.selectTotal),s=i.createSelector(o,function(t,e){return t[e.id]}),d=i.createSelector(o,function(t,e){var r=s.projector(t,{id:e.id});return r&&r.price||null}),l=i.createSelector(o,function(t,e){var r=s.projector(t,{id:e.id});return r.discount&&r.discount.amount||0}),p=i.createSelector(o,function(t,e){var r=d.projector(t,{id:e.id}),n=l.projector(t,{id:e.id});return a.daffSubtract(r,n)}),f=i.createSelector(o,function(t,e){var r=s.projector(t,{id:e.id});return r.discount&&r.discount.percent||0}),m=i.createSelector(o,function(t,e){return!!l.projector(t,{id:e.id})}),g=i.createSelector(o,function(t,e){var r=s.projector(t,{id:e.id});return r?!r.in_stock:null});return{selectProductEntitiesState:r,selectProductIds:n,selectProductEntities:o,selectAllProducts:c,selectProductTotal:u,selectProduct:s,selectProductPrice:d,selectProductDiscountAmount:l,selectProductDiscountedPrice:p,selectProductDiscountPercent:f,selectProductHasDiscount:m,selectIsProductOutOfStock:g}},dt=function(){var t;return function(){return t=t||st()}}();var lt=function(){var t=dt().selectAllProducts,e=ct().selectProductState,r=i.createSelector(e,function(t){return t.bestSellers}),n=i.createSelector(r,function(t){return t.loading}),o=i.createSelector(r,function(t){return t.productIds});return{selectBestSellersState:r,selectBestSellersLoadingState:n,selectBestSellersIdsState:o,selectBestSellersProducts:i.createSelector(o,t,function(t,e){return e.filter(function(e){return t.indexOf(e.id)>-1})})}},pt=function(){var t;return function(){return t=t||lt()}}();var ft=function(){var t=ct().selectProductState,e=i.createSelector(t,function(t){return t.productGrid});return{selectProductGridState:e,selectProductGridLoadingState:i.createSelector(e,function(t){return t.loading})}},mt=function(){var t;return function(){return t=t||ft()}}();var gt=function(){var t=ct().selectProductState,e=J().getSelectors(),r=i.createSelector(t,function(t){return t.configurableProductAttributes}),n=i.createSelector(r,e.selectIds),o=i.createSelector(r,e.selectEntities),c=i.createSelector(r,e.selectTotal),u=i.createSelector(r,function(t,e){return t.entities[e.id].attributes}),a=i.createSelector(r,function(t,e){return u.projector(t,{id:e.id}).reduce(function(t,e){var r;return l({},t,((r={})[e.code]=e.value,r))},{})});return{selectConfigurableProductAppliedAttributesEntitiesState:r,selectConfigurableProductIds:n,selectConfigurableProductAppliedAttributesEntities:o,selectConfigurableProductTotal:c,selectConfigurableProductAppliedAttributes:u,selectConfigurableProductAppliedAttributesAsDictionary:a}},Pt=function(){var t;return function(){return t=t||gt()}}();var yt=function(){var t=Pt(),e=t.selectConfigurableProductAppliedAttributes,r=t.selectConfigurableProductAppliedAttributesEntitiesState,n=dt(),o=n.selectProductEntities,c=n.selectProduct,u=i.createSelector(o,function(t,e){var r=c.projector(t,{id:e.id});return r&&r.type===y.Configurable?r.variants:[]}),s=i.createSelector(o,r,function(t,r,n){var i=c.projector(t,{id:n.id});if(!i||i.type!==y.Configurable)return[];var o=e.projector(r,{id:n.id});return i.variants.filter(function(t){return vt(o,t)})}),d=i.createSelector(o,r,function(t,e,r){return s.projector(t,e,{id:r.id}).map(function(t){return t.price})}),p=i.createSelector(o,r,function(t,e,r){return s.projector(t,e,{id:r.id}).map(function(t){return t.discount?a.daffSubtract(t.price,t.discount.amount):t.price})}),f=i.createSelector(o,r,function(t,e,r){return s.projector(t,e,{id:r.id}).map(function(t){return t.discount&&t.discount.percent})}),m=i.createSelector(o,r,function(t,e,r){return s.projector(t,e,{id:r.id}).reduce(function(t,e){return t||e.discount&&e.discount.amount>0},!1)}),g=i.createSelector(o,r,function(t,e,r){return St(d.projector(t,e,{id:r.id}))}),P=i.createSelector(o,r,function(t,e,r){return At(d.projector(t,e,{id:r.id}))}),b=i.createSelector(o,r,function(t,e,r){return St(p.projector(t,e,{id:r.id}))}),h=i.createSelector(o,r,function(t,e,r){return At(p.projector(t,e,{id:r.id}))}),v=i.createSelector(o,r,function(t,e,r){return St(f.projector(t,e,{id:r.id}))}),S=i.createSelector(o,r,function(t,e,r){return At(f.projector(t,e,{id:r.id}))}),A=i.createSelector(o,r,function(t,e,r){return g.projector(t,e,{id:r.id})!==P.projector(t,e,{id:r.id})}),_=i.createSelector(o,function(t,e){var r=c.projector(t,{id:e.id});return r.type!==y.Configurable?{}:r.configurableAttributes.reduce(function(t,e){var r;return l({},t,((r={})[e.code]=e.values.map(function(t){return t.value}),r))},{})}),C=i.createSelector(o,r,function(t,r,n){var i=c.projector(t,{id:n.id});if(i.type!==y.Configurable)return{};var o=e.projector(r,{id:n.id}),u=i.configurableAttributes.reduce(function(t,e){var r;return l({},t,((r={})[e.code]=[],r))},{}),a=o.reduce(function(t,e,r){var n=t.filter(function(t){return vt(o.slice(0,r),t)});return u[e.code]=bt(u,n,e.code),n},i.variants).filter(function(t){return vt(o,t)});return i.configurableAttributes.forEach(function(t){u[t.code].length||(u[t.code]=bt(u,a,t.code))}),u});return{selectAllConfigurableProductAttributes:_,selectAllConfigurableProductVariants:u,selectConfigurableProductPrices:d,selectConfigurableProductDiscountedPrices:p,selectConfigurableProductPercentDiscounts:f,selectConfigurableProductHasDiscount:m,selectConfigurableProductMinimumPrice:g,selectConfigurableProductMaximumPrice:P,selectConfigurableProductMinimumDiscountedPrice:b,selectConfigurableProductMaximumDiscountedPrice:h,selectConfigurableProductMinimumPercentDiscount:v,selectConfigurableProductMaximumPercentDiscount:S,isConfigurablePriceRanged:A,selectMatchingConfigurableProductVariants:s,selectSelectableConfigurableProductAttributes:C}};function bt(t,e,r){return e.reduce(function(t,e){return n=t,i=e.appliedAttributes[r],n.indexOf(i)>-1?t:g(t,[e.appliedAttributes[r]]);var n,i},t[r])}var ht=function(){var t;return function(){return t=t||yt()}}();function vt(t,e){return e.in_stock&&t.reduce(function(t,r){return t&&r.value===e.appliedAttributes[r.code]},!0)}function St(t){return t.reduce(function(t,e){return e<t?e:t},t[0])}function At(t){return t.reduce(function(t,e){return e>t?e:t},t[0])}var _t=function(){var t=ct().selectProductState,e=dt(),r=e.selectProductEntities,n=e.selectProduct,o=rt().getSelectors(),c=i.createSelector(t,function(t){return t.compositeProductOptions});return{selectCompositeProductAppliedOptionsEntitiesState:c,selectCompositeProductIds:i.createSelector(c,o.selectIds),selectCompositeProductAppliedOptionsEntities:i.createSelector(c,o.selectEntities),selectCompositeProductTotal:i.createSelector(c,o.selectTotal),selectCompositeProductAppliedOptions:i.createSelector(r,c,function(t,e,r){var i=n.projector(t,{id:r.id});if(i.type===y.Composite)return i.items.reduce(function(t,r){var n;return l({},t,((n={})[r.id]=e.entities[i.id].items[r.id].value?l({},r.options.find(function(t){return t.id===e.entities[i.id].items[r.id].value}),{quantity:e.entities[i.id].items[r.id].qty}):null,n))},{})}),selectIsCompositeProductItemRequired:i.createSelector(r,function(t,e){var r=n.projector(t,{id:e.id});if(r.type===y.Composite){var i=r.items.find(function(t){return t.id===e.item_id});return i?i.required:null}})}},Ct=function(){var t;return function(){return t=t||_t()}}();var It=function(){var t=dt(),e=t.selectProductEntities,r=t.selectProduct,n=Ct().selectCompositeProductAppliedOptionsEntitiesState,o=i.createSelector(e,function(t,e){var n=r.projector(t,{id:e.id});if(n.type===y.Composite){var i=e.configuration?Lt(n,e.configuration):{};return{minPrice:Dt(n,i),maxPrice:Mt(n,i)}}}),c=i.createSelector(e,function(t,e){var n=r.projector(t,{id:e.id});if(n.type===y.Composite){var i=e.configuration?Lt(n,e.configuration):{};return{minPrice:Dt(n,i),maxPrice:qt(n,i)}}}),u=i.createSelector(e,n,function(t,e,r){return o.projector(t,{id:r.id,configuration:e.entities[r.id]?e.entities[r.id].items:null})});return{selectCompositeProductRequiredItemPricesForConfiguration:o,selectCompositeProductOptionalItemPricesForConfiguration:c,selectCompositeProductPricesAsCurrentlyConfigured:u}},jt=function(){var t;return function(){return t=t||It()}}();function Dt(t,e){return{discountedPrice:t.items.reduce(function(t,r){return a.daffAdd(t,kt(e[r.id])?a.daffMultiply(xt(e[r.id]),e[r.id].quantity):function(t,e){return t.required?a.daffMultiply(Math.min.apply(Math,g(t.options.map(xt))),e):0}(r,Ot(e[r.id])))},xt(t)),discount:{amount:null,percent:null},originalPrice:t.items.reduce(function(t,r){return a.daffAdd(t,kt(e[r.id])?a.daffMultiply(e[r.id].price,e[r.id].quantity):function(t,e){return t.required?a.daffMultiply(Math.min.apply(Math,g(t.options.map(function(t){return t.price}))),e):0}(r,Ot(e[r.id])))},t.price)}}function Mt(t,e){return{discountedPrice:t.items.reduce(function(t,r){return a.daffAdd(t,kt(e[r.id])?a.daffMultiply(xt(e[r.id]),e[r.id].quantity):function(t,e){return t.required?a.daffMultiply(Math.max.apply(Math,g(t.options.map(xt))),e):0}(r,Ot(e[r.id])))},xt(t)),discount:{amount:null,percent:null},originalPrice:t.items.reduce(function(t,r){return a.daffAdd(t,kt(e[r.id])?a.daffMultiply(e[r.id].price,e[r.id].quantity):function(t,e){return t.required?a.daffMultiply(Math.max.apply(Math,g(t.options.map(function(t){return t.price}))),e):0}(r,Ot(e[r.id])))},t.price)}}function xt(t){return t.discount?a.daffSubtract(t.price,t.discount.amount):t.price}function qt(t,e){return{discountedPrice:t.items.reduce(function(t,r){return a.daffAdd(t,kt(e[r.id])?a.daffMultiply(xt(e[r.id]),e[r.id].quantity):Bt(e[r.id])?a.daffMultiply(Math.max.apply(Math,g(r.options.map(xt))),e[r.id].quantity):Math.max.apply(Math,g(r.options.map(xt))))},xt(t)),discount:{amount:null,percent:null},originalPrice:t.items.reduce(function(t,r){return a.daffAdd(t,kt(e[r.id])?a.daffMultiply(e[r.id].price,e[r.id].quantity):Bt(e[r.id])?a.daffMultiply(Math.max.apply(Math,g(r.options.map(function(t){return t.price}))),e[r.id].quantity):Math.max.apply(Math,g(r.options.map(function(t){return t.price}))))},t.price)}}function Lt(t,e){return t.items.reduce(function(t,r){var n;return l({},t,((n={})[r.id]=e[r.id]?l({},r.options.find(function(t){return t.id===e[r.id].value}),{quantity:null===e[r.id].qty||void 0===e[r.id].qty?1:e[r.id].qty}):null,n))},{})}function kt(t){return t&&!!t.id}function Ot(t){return Bt(t)?t.quantity:1}function Bt(t){return t&&null!==t.quantity}var Rt=function(){return l({},pt(),at(),mt(),dt(),ct(),Pt(),ht(),Ct(),jt())},Gt=new r.InjectionToken("DaffProductDriver"),Et=function(){function t(t,e){var r=this;this.actions$=t,this.driver=e,this.loadAll$=this.actions$.pipe(n.ofType(_.ProductGridLoadAction),c.switchMap(function(t){return r.driver.getAll().pipe(c.map(function(t){return new I(t)}),c.catchError(function(t){return o.of(new j("Failed to load product grid"))}))}))}return t.decorators=[{type:r.Injectable}],t.ctorParameters=function(){return[{type:n.Actions},{type:void 0,decorators:[{type:r.Inject,args:[Gt]}]}]},p([n.Effect(),f("design:type",o.Observable)],t.prototype,"loadAll$",void 0),t}();var Ft=function(){function t(t,e){var r=this;this.actions$=t,this.driver=e,this.load$=this.actions$.pipe(n.ofType(b.ProductLoadAction),c.switchMap(function(t){return r.driver.get(t.payload).pipe(c.map(function(t){return new v(t)}),c.catchError(function(t){return o.of(new S("Failed to load product"))}))}))}return t.decorators=[{type:r.Injectable}],t.ctorParameters=function(){return[{type:n.Actions},{type:void 0,decorators:[{type:r.Inject,args:[Gt]}]}]},p([n.Effect(),f("design:type",o.Observable)],t.prototype,"load$",void 0),t}();var wt=function(){function t(t,e){var r=this;this.actions$=t,this.driver=e,this.loadBestSellers$=this.actions$.pipe(n.ofType(M.BestSellersLoadAction),c.switchMap(function(t){return r.driver.getBestSellers().pipe(c.map(function(t){return new q(t)}),c.catchError(function(t){return o.of(new L("Failed to load best selling products"))}))}))}return t.decorators=[{type:r.Injectable}],t.ctorParameters=function(){return[{type:n.Actions},{type:void 0,decorators:[{type:r.Inject,args:[Gt]}]}]},p([n.Effect(),f("design:type",o.Observable)],t.prototype,"loadBestSellers$",void 0),t}();var $t=function(){function t(){}return t.decorators=[{type:r.NgModule,args:[{imports:[i.StoreModule.forFeature("product",ot),n.EffectsModule.forFeature([Et,Ft,wt])]}]}],t}(),Tt=function(){function t(){}return t.decorators=[{type:r.NgModule,args:[{imports:[e.CommonModule,$t]}]}],t}();var Vt,zt,Qt=d(Vt||(Vt=P(["\n  query GetAllProducts($length: Int) {\n    shop {\n      products(first: $length)  {\n        edges {\n          node {\n            id\n            title\n          }\n        }\n      }\n    }\n  }\n"],["\n  query GetAllProducts($length: Int) {\n    shop {\n      products(first: $length)  {\n        edges {\n          node {\n            id\n            title\n          }\n        }\n      }\n    }\n  }\n"]))),Nt=d(zt||(zt=P(["\n  query GetAProduct($id: ID!){\n    node(id: $id) {\n      id\n      ... on Product {\n        title\n      }\n    }\n  }\n"],["\n  query GetAProduct($id: ID!){\n    node(id: $id) {\n      id\n      ... on Product {\n        title\n      }\n    }\n  }\n"]))),Ht=function(t){return{id:t.id,name:t.title,images:[]}},Ut=function(){function t(t){this.apollo=t,this.defaultLength=20}return t.prototype.getAll=function(){return this.apollo.query({query:Qt,variables:{length:this.defaultLength}}).pipe(c.map(function(t){return t.data.shop.products.edges.map(function(t){return Ht(t.node)})}))},t.prototype.getBestSellers=function(){return this.apollo.query({query:Qt,variables:{length:this.defaultLength}}).pipe(c.map(function(t){return t.data.shop.products.edges.map(function(t){return Ht(t.node)})}))},t.prototype.get=function(t){return this.apollo.query({query:Nt,variables:{id:t}}).pipe(c.map(function(t){return Ht(t.data.node)}))},t.decorators=[{type:r.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:s.Apollo}]},t.ngInjectableDef=r.ɵɵdefineInjectable({factory:function(){return new t(r.ɵɵinject(s.Apollo))},token:t,providedIn:"root"}),t}();var Kt=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[{provide:Gt,useExisting:Ut}]}},t.decorators=[{type:r.NgModule,args:[{imports:[e.CommonModule]}]}],t}(),Xt=function(){function t(t){this.store=t;var e=Rt(),r=e.selectProductGridLoadingState,n=e.selectAllProducts;this.loading$=this.store.pipe(i.select(r)),this.products$=this.store.pipe(i.select(n))}return t.prototype.dispatch=function(t){this.store.dispatch(t)},t.decorators=[{type:r.Injectable,args:[{providedIn:Tt}]}],t.ctorParameters=function(){return[{type:i.Store}]},t.ngInjectableDef=r.ɵɵdefineInjectable({factory:function(){return new t(r.ɵɵinject(i.Store))},token:t,providedIn:Tt}),t}();var Yt=function(){function t(t){this.store=t,this.selectors=Rt(),this.loading$=this.store.pipe(i.select(this.selectors.selectSelectedProductLoadingState)),this.product$=this.store.pipe(i.select(this.selectors.selectSelectedProduct))}return t.prototype.getProduct=function(t){return this.store.pipe(i.select(this.selectors.selectProduct,{id:t}))},t.prototype.getPrice=function(t){return this.store.pipe(i.select(this.selectors.selectProductPrice,{id:t}))},t.prototype.hasDiscount=function(t){return this.store.pipe(i.select(this.selectors.selectProductHasDiscount,{id:t}))},t.prototype.getDiscountAmount=function(t){return this.store.pipe(i.select(this.selectors.selectProductDiscountAmount,{id:t}))},t.prototype.getDiscountedPrice=function(t){return this.store.pipe(i.select(this.selectors.selectProductDiscountedPrice,{id:t}))},t.prototype.getDiscountPercent=function(t){return this.store.pipe(i.select(this.selectors.selectProductDiscountPercent,{id:t}))},t.prototype.isOutOfStock=function(t){return this.store.pipe(i.select(this.selectors.selectIsProductOutOfStock,{id:t}))},t.prototype.dispatch=function(t){this.store.dispatch(t)},t.decorators=[{type:r.Injectable,args:[{providedIn:Tt}]}],t.ctorParameters=function(){return[{type:i.Store}]},t.ngInjectableDef=r.ɵɵdefineInjectable({factory:function(){return new t(r.ɵɵinject(i.Store))},token:t,providedIn:Tt}),t}();var Jt=function(){function t(t){this.store=t,this.selectors=Rt()}return t.prototype.getAllAttributes=function(t){return this.store.pipe(i.select(this.selectors.selectAllConfigurableProductAttributes,{id:t}))},t.prototype.getAllVariants=function(t){return this.store.pipe(i.select(this.selectors.selectAllConfigurableProductVariants,{id:t}))},t.prototype.getAppliedAttributes=function(t){return this.store.pipe(i.select(this.selectors.selectConfigurableProductAppliedAttributesAsDictionary,{id:t}))},t.prototype.getMinimumPrice=function(t){return this.store.pipe(i.select(this.selectors.selectConfigurableProductMinimumPrice,{id:t}))},t.prototype.getMaximumPrice=function(t){return this.store.pipe(i.select(this.selectors.selectConfigurableProductMaximumPrice,{id:t}))},t.prototype.getMinimumDiscountedPrice=function(t){return this.store.pipe(i.select(this.selectors.selectConfigurableProductMinimumDiscountedPrice,{id:t}))},t.prototype.getMaximumDiscountedPrice=function(t){return this.store.pipe(i.select(this.selectors.selectConfigurableProductMaximumDiscountedPrice,{id:t}))},t.prototype.getMinimumPercentDiscount=function(t){return this.store.pipe(i.select(this.selectors.selectConfigurableProductMinimumPercentDiscount,{id:t}))},t.prototype.getMaximumPercentDiscount=function(t){return this.store.pipe(i.select(this.selectors.selectConfigurableProductMaximumPercentDiscount,{id:t}))},t.prototype.isPriceRanged=function(t){return this.store.pipe(i.select(this.selectors.isConfigurablePriceRanged,{id:t}))},t.prototype.hasDiscount=function(t){return this.store.pipe(i.select(this.selectors.selectConfigurableProductHasDiscount,{id:t}))},t.prototype.getSelectableAttributes=function(t){return this.store.pipe(i.select(this.selectors.selectSelectableConfigurableProductAttributes,{id:t}))},t.prototype.getMatchingVariants=function(t){return this.store.pipe(i.select(this.selectors.selectMatchingConfigurableProductVariants,{id:t}))},t.prototype.dispatch=function(t){this.store.dispatch(t)},t.decorators=[{type:r.Injectable,args:[{providedIn:Tt}]}],t.ctorParameters=function(){return[{type:i.Store}]},t.ngInjectableDef=r.ɵɵdefineInjectable({factory:function(){return new t(r.ɵɵinject(i.Store))},token:t,providedIn:Tt}),t}();var Wt=function(t){return t.minPrice.originalPrice!==t.minPrice.discountedPrice||t.maxPrice.originalPrice!==t.maxPrice.discountedPrice},Zt=function(t){return t.minPrice.originalPrice!==t.maxPrice.originalPrice||t.minPrice.discountedPrice!==t.maxPrice.discountedPrice},te=function(){function t(t){this.store=t,this.selectors=Rt(),this.hasDiscount=Wt,this.hasPriceRange=Zt}return t.prototype.getRequiredItemPricesForConfiguration=function(t,e){return this.store.pipe(i.select(this.selectors.selectCompositeProductRequiredItemPricesForConfiguration,{id:t,configuration:e}))},t.prototype.getOptionalItemPricesForConfiguration=function(t,e){return this.store.pipe(i.select(this.selectors.selectCompositeProductOptionalItemPricesForConfiguration,{id:t,configuration:e}))},t.prototype.getPricesAsCurrentlyConfigured=function(t){return this.store.pipe(i.select(this.selectors.selectCompositeProductPricesAsCurrentlyConfigured,{id:t}))},t.prototype.getAppliedOptions=function(t){return this.store.pipe(i.select(this.selectors.selectCompositeProductAppliedOptions,{id:t}))},t.prototype.isItemRequired=function(t,e){return this.store.pipe(i.select(this.selectors.selectIsCompositeProductItemRequired,{id:t,item_id:e}))},t.prototype.dispatch=function(t){this.store.dispatch(t)},t.decorators=[{type:r.Injectable,args:[{providedIn:Tt}]}],t.ctorParameters=function(){return[{type:i.Store}]},t.ngInjectableDef=r.ɵɵdefineInjectable({factory:function(){return new t(r.ɵɵinject(i.Store))},token:t,providedIn:Tt}),t}();var ee=function(){function t(t){this.store=t;var e=Rt(),r=e.selectBestSellersProducts,n=e.selectBestSellersLoadingState;this.loading$=this.store.pipe(i.select(n)),this.bestSellers$=this.store.pipe(i.select(r))}return t.prototype.dispatch=function(t){this.store.dispatch(t)},t.decorators=[{type:r.Injectable,args:[{providedIn:Tt}]}],t.ctorParameters=function(){return[{type:i.Store}]},t.ngInjectableDef=r.ɵɵdefineInjectable({factory:function(){return new t(r.ɵɵinject(i.Store))},token:t,providedIn:Tt}),t}();var re={BundledProduct:"BundleProduct",ConfigurableProduct:"ConfigurableProduct",SimpleProduct:"SimpleProduct"},ne={InStock:"IN_STOCK",OutOfStock:"OUT_OF_STOCK"};var ie,oe,ce,ue,ae,se,de=d(ie||(ie=P(["\n  fragment magentoBundledProduct on BundleProduct {\n\t\titems {\n\t\t\toption_id\n\t\t\tposition\n\t\t\trequired\n\t\t\tsku\n\t\t\ttitle\n\t\t\ttype\n\t\t\toptions {\n\t\t\t\tcan_change_quantity\n\t\t\t\tid\n\t\t\t\tis_default\n\t\t\t\tlabel\n\t\t\t\tposition\n\t\t\t\tprice_type\n\t\t\t\tprice\n\t\t\t\tquantity\n\t\t\t\tproduct {\n\t\t\t\t\tid\n\t\t\t\t\tname\n\t\t\t\t\tsku\n\t\t\t\t\tstock_status\n\t\t\t\t\tprice_range {\n\t\t\t\t\t\tmaximum_price {\n\t\t\t\t\t\t\tregular_price {\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t\tcurrency\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdiscount {\n\t\t\t\t\t\t\t\tamount_off\n\t\t\t\t\t\t\t\tpercent_off\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n  }\n"],["\n  fragment magentoBundledProduct on BundleProduct {\n\t\titems {\n\t\t\toption_id\n\t\t\tposition\n\t\t\trequired\n\t\t\tsku\n\t\t\ttitle\n\t\t\ttype\n\t\t\toptions {\n\t\t\t\tcan_change_quantity\n\t\t\t\tid\n\t\t\t\tis_default\n\t\t\t\tlabel\n\t\t\t\tposition\n\t\t\t\tprice_type\n\t\t\t\tprice\n\t\t\t\tquantity\n\t\t\t\tproduct {\n\t\t\t\t\tid\n\t\t\t\t\tname\n\t\t\t\t\tsku\n\t\t\t\t\tstock_status\n\t\t\t\t\tprice_range {\n\t\t\t\t\t\tmaximum_price {\n\t\t\t\t\t\t\tregular_price {\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t\tcurrency\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdiscount {\n\t\t\t\t\t\t\t\tamount_off\n\t\t\t\t\t\t\t\tpercent_off\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n  }\n"]))),le=d(oe||(oe=P(["\n  fragment magentoSimpleProduct on SimpleProduct {\n    name\n  }\n"],["\n  fragment magentoSimpleProduct on SimpleProduct {\n    name\n  }\n"]))),pe=d(ce||(ce=P(["\n  fragment magentoConfigurableProduct on ConfigurableProduct {\n\t\tconfigurable_options {\n\t\t\tattribute_code\n\t\t\tattribute_id\n\t\t\tid\n\t\t\tlabel\n\t\t\tposition\n\t\t\tproduct_id\n\t\t\tvalues {\n\t\t\t\tlabel\n\t\t\t\tvalue_index\n\t\t\t}\n\t\t}\n\t\tvariants {\n\t\t\tattributes {\n\t\t\t\tcode\n\t\t\t\tlabel\n\t\t\t\tvalue_index\n\t\t\t}\n\t\t\tproduct {\n\t\t\t\tsku\n\t\t\t\tprice_range {\n\t\t\t\t\tmaximum_price {\n\t\t\t\t\t\tregular_price {\n\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\tcurrency\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdiscount {\n\t\t\t\t\t\t\tamount_off\n\t\t\t\t\t\t\tpercent_off\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tstock_status\n\t\t\t\timage {\n\t\t\t\t\turl\n\t\t\t\t\tlabel\n\t\t\t\t}\n\t\t\t}\n\t\t}\n  }\n"],["\n  fragment magentoConfigurableProduct on ConfigurableProduct {\n\t\tconfigurable_options {\n\t\t\tattribute_code\n\t\t\tattribute_id\n\t\t\tid\n\t\t\tlabel\n\t\t\tposition\n\t\t\tproduct_id\n\t\t\tvalues {\n\t\t\t\tlabel\n\t\t\t\tvalue_index\n\t\t\t}\n\t\t}\n\t\tvariants {\n\t\t\tattributes {\n\t\t\t\tcode\n\t\t\t\tlabel\n\t\t\t\tvalue_index\n\t\t\t}\n\t\t\tproduct {\n\t\t\t\tsku\n\t\t\t\tprice_range {\n\t\t\t\t\tmaximum_price {\n\t\t\t\t\t\tregular_price {\n\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\tcurrency\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdiscount {\n\t\t\t\t\t\t\tamount_off\n\t\t\t\t\t\t\tpercent_off\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tstock_status\n\t\t\t\timage {\n\t\t\t\t\turl\n\t\t\t\t\tlabel\n\t\t\t\t}\n\t\t\t}\n\t\t}\n  }\n"]))),fe=d(ue||(ue=P(["\n  fragment product on ProductInterface {\n\t\t__typename\n\t\tid\n\t\turl_key\n\t\tname\n\t\tsku\n\t\tstock_status\n\t\tprice_range {\n\t\t\tmaximum_price {\n\t\t\t\tregular_price {\n\t\t\t\t\tvalue\n\t\t\t\t\tcurrency\n\t\t\t\t}\n\t\t\t\tdiscount {\n\t\t\t\t\tamount_off\n\t\t\t\t\tpercent_off\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\timage {\n\t\t\turl\n\t\t\tlabel\n\t\t}\n    thumbnail {\n\t\t\turl\n\t\t\tlabel\n\t\t}\n\t\tmedia_gallery_entries {\n\t\t\tlabel\n\t\t\tfile\n\t\t\tposition\n\t\t\tdisabled\n\t\t\tid\n\t\t}\n\t\tshort_description {\n\t\t\thtml\n\t\t}\n\t\tdescription {\n\t\t\thtml\n\t\t}\n\t\t...magentoBundledProduct\n\t\t...magentoSimpleProduct\n\t\t...magentoConfigurableProduct\n\t}\n\t","\n\t","\n\t","\n"],["\n  fragment product on ProductInterface {\n\t\t__typename\n\t\tid\n\t\turl_key\n\t\tname\n\t\tsku\n\t\tstock_status\n\t\tprice_range {\n\t\t\tmaximum_price {\n\t\t\t\tregular_price {\n\t\t\t\t\tvalue\n\t\t\t\t\tcurrency\n\t\t\t\t}\n\t\t\t\tdiscount {\n\t\t\t\t\tamount_off\n\t\t\t\t\tpercent_off\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\timage {\n\t\t\turl\n\t\t\tlabel\n\t\t}\n    thumbnail {\n\t\t\turl\n\t\t\tlabel\n\t\t}\n\t\tmedia_gallery_entries {\n\t\t\tlabel\n\t\t\tfile\n\t\t\tposition\n\t\t\tdisabled\n\t\t\tid\n\t\t}\n\t\tshort_description {\n\t\t\thtml\n\t\t}\n\t\tdescription {\n\t\t\thtml\n\t\t}\n\t\t...magentoBundledProduct\n\t\t...magentoSimpleProduct\n\t\t...magentoConfigurableProduct\n\t}\n\t","\n\t","\n\t","\n"])),de,le,pe),me=d(ae||(ae=P(["\nquery GetAProduct($sku: String!){\n\tstoreConfig {\n\t\tsecure_base_media_url\n\t}\n\tproducts(filter: {\n\t\tsku: {\n\t\t\teq: $sku\n\t\t}\n\t}){\n\t\titems {\n\t\t\t...product\n\t\t}\n\t}\n}\n","\n"],["\nquery GetAProduct($sku: String!){\n\tstoreConfig {\n\t\tsecure_base_media_url\n\t}\n\tproducts(filter: {\n\t\tsku: {\n\t\t\teq: $sku\n\t\t}\n\t}){\n\t\titems {\n\t\t\t...product\n\t\t}\n\t}\n}\n","\n"])),fe),ge=d(se||(se=P(['\nquery GetAllProducts($pageSize: Int)\n{\n\tproducts(search: "Shirt", pageSize: $pageSize)\n\t{\n\t\ttotal_count\n\t\titems {\n\t\t\t...product\n\t\t}\n\t\tpage_info {\n\t\t\tpage_size\n\t\t\tcurrent_page\n\t\t}\n\t}\n}\n',"\n"],['\nquery GetAllProducts($pageSize: Int)\n{\n\tproducts(search: "Shirt", pageSize: $pageSize)\n\t{\n\t\ttotal_count\n\t\titems {\n\t\t\t...product\n\t\t}\n\t\tpage_info {\n\t\t\tpage_size\n\t\t\tcurrent_page\n\t\t}\n\t}\n}\n',"\n"])),fe);function Pe(t,e){return{type:y.Simple,id:t.sku,url:t.url_key,name:t.name,price:ye(t),discount:be(t),in_stock:t.stock_status===ne.InStock,images:g([{url:t.image.url,id:"0",label:t.image.label}],he(t,e)),description:t.description.html}}function ye(t){return t.price_range&&t.price_range.maximum_price&&t.price_range.maximum_price.regular_price&&null!==t.price_range.maximum_price.regular_price.value?t.price_range.maximum_price.regular_price.value:null}function be(t){return t.price_range&&t.price_range.maximum_price&&t.price_range.maximum_price.discount?{amount:t.price_range.maximum_price.discount.amount_off,percent:t.price_range.maximum_price.discount.percent_off}:{amount:null,percent:null}}function he(t,e){return t.media_gallery_entries?t.media_gallery_entries.map(function(t){return{url:e+"catalog/product"+t.file,label:t.label,id:t.id.toString()}}):[]}function ve(t){return{id:t.option_id.toString(),required:t.required,title:t.title,input_type:t.type,options:t.options.map(Se)}}function Se(t){return{id:t.id.toString(),name:t.label,price:(e=t.product,e.price_range&&e.price_range.maximum_price&&e.price_range.maximum_price.regular_price&&null!==e.price_range.maximum_price.regular_price.value?e.price_range.maximum_price.regular_price.value:null),images:[],discount:Ae(t.product),quantity:t.quantity,is_default:t.is_default,in_stock:t.product.stock_status===ne.InStock};var e}function Ae(t){return t.price_range&&t.price_range.maximum_price&&t.price_range.maximum_price.discount?{amount:t.price_range.maximum_price.discount.amount_off,percent:t.price_range.maximum_price.discount.percent_off}:{amount:null,percent:null}}function _e(t){return{order:t.position,code:t.attribute_code,label:t.label,values:t.values.map(Ce)}}function Ce(t){return{value:t.value_index.toString(),label:t.label}}function Ie(t){return{id:t.product.sku,appliedAttributes:je(t.attributes),price:(e=t.product,e.price_range&&e.price_range.maximum_price&&e.price_range.maximum_price.regular_price&&null!==e.price_range.maximum_price.regular_price.value?e.price_range.maximum_price.regular_price.value:null),discount:De(t.product),image:{id:"0",url:t.product.image.url,label:t.product.image.label},in_stock:t.product.stock_status===ne.InStock};var e}function je(t){var e={};return t.forEach(function(t){var r;e=l({},e,((r={})[t.code]=t.value_index.toString(),r))}),e}function De(t){return t.price_range&&t.price_range.maximum_price&&t.price_range.maximum_price.discount?{amount:t.price_range.maximum_price.discount.amount_off,percent:t.price_range.maximum_price.discount.percent_off}:{amount:null,percent:null}}function Me(t,e){switch(t.__typename){case re.BundledProduct:return function(t,e){return l({},Pe(t,e),{price:0,discount:{amount:0,percent:0},type:y.Composite,items:t.items.map(ve)})}(t,e);case re.ConfigurableProduct:return function(t,e){return l({},Pe(t,e),{type:y.Configurable,configurableAttributes:t.configurable_options.map(_e),variants:t.variants.map(Ie)})}(t,e);default:return Pe(t,e)}}function xe(t,e){return t.map(function(t){return Me(t,e)})}var qe=function(){function t(t){this.apollo=t}return t.prototype.get=function(t){return this.apollo.query({query:me,variables:{sku:t}}).pipe(c.map(function(t){return Me(t.data.products.items[0],t.data.storeConfig.secure_base_media_url)}))},t.prototype.getAll=function(){return this.apollo.query({query:ge}).pipe(c.map(function(t){return xe(t.data.products.items,t.data.storeConfig.secure_base_media_url)}))},t.prototype.getBestSellers=function(){return o.of(null)},t.decorators=[{type:r.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:s.Apollo}]},t.ngInjectableDef=r.ɵɵdefineInjectable({factory:function(){return new t(r.ɵɵinject(s.Apollo))},token:t,providedIn:"root"}),t}();var Le=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[{provide:Gt,useExisting:qe}]}},t.decorators=[{type:r.NgModule,args:[{imports:[e.CommonModule]}]}],t}();t.DaffBestSellersActionTypes=M,t.DaffBestSellersFacade=ee,t.DaffBestSellersLoad=x,t.DaffBestSellersLoadFailure=L,t.DaffBestSellersLoadSuccess=q,t.DaffBestSellersReset=k,t.DaffCompositeProductActionTypes=E,t.DaffCompositeProductApplyOption=F,t.DaffCompositeProductFacade=te,t.DaffCompositeProductItemInputEnum={select:"select",radio:"radio"},t.DaffConfigurableProductActionTypes=O,t.DaffConfigurableProductApplyAttribute=B,t.DaffConfigurableProductFacade=Jt,t.DaffConfigurableProductRemoveAttribute=R,t.DaffConfigurableProductToggleAttribute=G,t.DaffMagentoProductService=qe,t.DaffProductActionTypes=b,t.DaffProductDriver=Gt,t.DaffProductFacade=Yt,t.DaffProductGridActionTypes=_,t.DaffProductGridFacade=Xt,t.DaffProductGridLoad=C,t.DaffProductGridLoadFailure=j,t.DaffProductGridLoadSuccess=I,t.DaffProductGridReset=D,t.DaffProductLoad=h,t.DaffProductLoadFailure=S,t.DaffProductLoadSuccess=v,t.DaffProductMagentoDriverModule=Le,t.DaffProductModule=Tt,t.DaffProductPageResolver=w,t.DaffProductShopifyDriverModule=Kt,t.DaffProductTypeEnum=y,t.DaffProductUpdateQty=A,t.DaffShopifyProductService=Ut,t.GetAllProductsQuery=ge,t.GetProductQuery=me,t.MagentoPriceTypeEnum={fixed:"FIXED",percent:"PERCENT",dynamic:"DYNAMIC"},t.MagentoProductStockStatusEnum=ne,t.MagentoProductTypeEnum=re,t.daffBestSellersReducer=H,t.daffProductEntitiesAdapter=X,t.daffProductEntitiesReducer=Y,t.daffProductGridReducer=T,t.daffProductReducer=z,t.daffProductReducers=ot,t.getDaffProductSelectors=Rt,t.magentoBundledProductFragment=de,t.magentoProductFragment=fe,t.productPriceRangeHasDiscount=Wt,t.productPriceRangeHasPriceRange=Zt,t.transformMagentoProduct=Me,t.transformManyMagentoProducts=xe,t.ɵa=W,t.ɵb=nt,t.ɵc=$t,t.ɵd=Et,t.ɵe=Ft,t.ɵf=wt,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=daffodil-product.umd.min.js.map