{"version":3,"file":"daffodil-contact-driver-in-memory.umd.js","sources":["ng://@daffodil/contact/driver/in-memory/contact.service.ts","ng://@daffodil/contact/driver/in-memory/in-memory.module.ts","ng://@daffodil/contact/driver/in-memory/in-memory-backend/contact-in-memory-backend.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs';\n\nimport { DaffContactServiceInterface } from '@daffodil/contact/driver';\nimport { DaffContactUnion } from '@daffodil/contact';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DaffInMemoryContactService implements DaffContactServiceInterface<DaffContactUnion, DaffContactUnion>{\n  \n  url = '/api/contact';\n  constructor(private http: HttpClient) {}\n\n  send(payload: DaffContactUnion): Observable<DaffContactUnion> {\n    return this.http.post<DaffContactUnion>(this.url, payload);\n  }\n}","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { DaffContactDriver } from '@daffodil/contact/driver';\nimport { DaffInMemoryContactService } from './contact.service';\n\n@NgModule({\n\timports: [CommonModule],\n})\nexport class DaffContactInMemoryDriverModule {\n\tstatic forRoot(): ModuleWithProviders {\n\t\treturn {\n\t\t\tngModule: DaffContactInMemoryDriverModule,\n\t\t\tproviders: [\n\t\t\t\t{\n\t\t\t\t\tprovide: DaffContactDriver,\n\t\t\t\t\tuseClass: DaffInMemoryContactService,\n\t\t\t\t},\n\t\t\t],\n\t\t};\n\t}\n}\n","import { InMemoryDbService, RequestInfoUtilities, ParsedRequestUrl} from 'angular-in-memory-web-api';\nimport { Injectable } from '@angular/core';\nimport { DaffContactUnion } from '@daffodil/contact';\nimport { of } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DaffInMemoryBackendContactService implements InMemoryDbService {\n  forums: DaffContactUnion[] = [];\n\n  parseRequestUrl(url: string, utils: RequestInfoUtilities): ParsedRequestUrl {\n    return utils.parseRequestUrl(url);\n  }\n\n  createDb(): any {\n    return {\n      forums: this.forums\n    };\n  }\n  //validate that its not empty\n  //validate that it doesn't already exist\n  post(reqInfo: any): any {\n    if(reqInfo === undefined){\n      return Error('Payload is undefined');\n    }\n    else if(this.forums.indexOf(reqInfo.body) !== -1){\n      return Error('Already contains submission');\n    }\n    else{\n      this.forums.push(reqInfo.body);\n      return of(reqInfo);\n    }\n  }\n}\n"],"names":["Injectable","HttpClient","DaffContactDriver","NgModule","CommonModule","of"],"mappings":";;;;;;;;;;AAAA;QAaE,oCAAoB,IAAgB;YAAhB,SAAI,GAAJ,IAAI,CAAY;YADpC,QAAG,GAAG,cAAc,CAAC;SACmB;;;;;QAExC,yCAAI;;;;QAAJ,UAAK,OAAyB;YAC5B,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAmB,IAAI,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;SAC5D;;oBAVFA,eAAU,SAAC;wBACV,UAAU,EAAE,MAAM;qBACnB;;;;oBARQC,eAAU;;;yCADnB;KAOA,IAWC;;;QANC,yCAAqB;;;;;QACT,0CAAwB;;;;;;;ACbtC;QAMA;SAeC;;;;QAXO,uCAAO;;;QAAd;YACC,OAAO;gBACN,QAAQ,EAAE,+BAA+B;gBACzC,SAAS,EAAE;oBACV;wBACC,OAAO,EAAEC,wBAAiB;wBAC1B,QAAQ,EAAE,0BAA0B;qBACpC;iBACD;aACD,CAAC;SACF;;oBAdDC,aAAQ,SAAC;wBACT,OAAO,EAAE,CAACC,mBAAY,CAAC;qBACvB;;QAaD,sCAAC;KAfD;;;;;;ACLA;QAIA;YAIE,WAAM,GAAuB,EAAE,CAAC;SAyBjC;;;;;;QAvBC,2DAAe;;;;;QAAf,UAAgB,GAAW,EAAE,KAA2B;YACtD,OAAO,KAAK,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC;SACnC;;;;QAED,oDAAQ;;;QAAR;YACE,OAAO;gBACL,MAAM,EAAE,IAAI,CAAC,MAAM;aACpB,CAAC;SACH;;;;;;;;;QAGD,gDAAI;;;;;;;QAAJ,UAAK,OAAY;YACf,IAAG,OAAO,KAAK,SAAS,EAAC;gBACvB,OAAO,KAAK,CAAC,sBAAsB,CAAC,CAAC;aACtC;iBACI,IAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAC;gBAC/C,OAAO,KAAK,CAAC,6BAA6B,CAAC,CAAC;aAC7C;iBACG;gBACF,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;gBAC/B,OAAOC,OAAE,CAAC,OAAO,CAAC,CAAC;aACpB;SACF;;oBA5BFL,eAAU,SAAC;wBACV,UAAU,EAAE,MAAM;qBACnB;;;gDAPD;KAKA,IA6BC;;;QAzBC,mDAAgC;;;;;;;;;;;;;;;"}