{"version":3,"file":"daffodil-authorizenet.js","sources":["ng://@daffodil/authorizenet/models/request/authorize-net-request.ts","ng://@daffodil/authorizenet/models/response/authorize-net-response.ts","ng://@daffodil/authorizenet/services/accept-js-production.token.ts","ng://@daffodil/authorizenet/services/accept-js-loading.service.ts","ng://@daffodil/authorizenet/injection-tokens/error-matcher.token.ts"],"sourcesContent":["export interface AuthorizeNetRequest {\n\tcardData: AuthorizeNetCreditCard;\n\tauthData: {\n\t\tclientKey: string;\n\t\tapiLoginID: string;\n\t};\n}\n\nexport interface AuthorizeNetCreditCard {\n\tcardNumber: string;\n\tcardCode: string;\n\tmonth: string;\n\tyear: string;\n}\n","export interface AuthorizeNetMessage {\n\tcode: string;\n\ttext: string;\n}\n\nexport interface AuthorizeNetResponse {\n\topaqueData: {\n\t\tdataDescriptor: string;\n\t\tdataValue: string;\n\t};\n\tmessages: {\n\t\tresultCode: string;\n\t\tmessage: AuthorizeNetMessage[];\n\t};\n}","import { InjectionToken } from '@angular/core';\n\n/**\n * A token that represents the version to use for Accept.JS calls.\n * A \"true\" value configures the package to use the production AcceptJs endpoint, \n * and a \"false\" value configures it to use the Sandbox AcceptJs endpoint. \n * By default, we assume you're using the sandbox (false).\n */\nexport const DAFF_AUTHORIZENET_ACCEPT_JS_PRODUCTION = new InjectionToken<\n\tboolean\n>('DAFF_AUTHORIZENET_ACCEPT_JS_PRODUCTION', {\n\tprovidedIn: 'root',\n\tfactory: () => false,\n});\n","import { Inject, Injectable } from '@angular/core';\nimport { DOCUMENT } from '@angular/common';\nimport { DAFF_AUTHORIZENET_ACCEPT_JS_PRODUCTION } from './accept-js-production.token';\nimport { AcceptType } from '../models/acceptJs/accept';\n\nconst ACCEPT_JS_SANDBOX_URL = 'https://jstest.authorize.net/v1/Accept.js';\nconst ACCEPT_JS_PRODUCTION_URL = 'https://js.authorize.net/v1/Accept.js';\n\nexport declare var Accept: AcceptType;\n\n@Injectable({\n\tprovidedIn: 'root',\n})\nexport class DaffAcceptJsLoadingService {\n\tconstructor(\n\t\t@Inject(DAFF_AUTHORIZENET_ACCEPT_JS_PRODUCTION) private production: boolean,\n\t\t@Inject(DOCUMENT) private doc,\n\t) {}\n\n\tload(): void {\n\t\tif (typeof Accept === 'undefined') {\n\t\t\tconst acceptJsScript = this.doc.createElement('script');\n\t\t\tacceptJsScript.async = true;\n\t\t\tacceptJsScript.setAttribute('type', 'text/javascript');\n\t\t\tacceptJsScript.setAttribute(\n\t\t\t\t'src',\n\t\t\t\tthis.production ? ACCEPT_JS_PRODUCTION_URL : ACCEPT_JS_SANDBOX_URL,\n\t\t\t);\n\t\t\tacceptJsScript.setAttribute('charset', 'utf-8');\n\t\t\tthis.doc.body.appendChild(acceptJsScript);\n\t\t}\n\t}\n\n\tgetAccept(): AcceptType {\n\t\treturn Accept;\n\t}\n}\n","import { InjectionToken } from '@angular/core';\n\nimport { daffTransformErrorToStateError } from '@daffodil/core/state';\n\n/**\n * Transforms `DaffError`s into `DaffStateError`s before they are serialized into state.\n * Can be used to further refine Daffodil errors into more specific app errors.\n */\nexport const DAFF_AUTHORIZENET_ERROR_MATCHER = new InjectionToken<typeof daffTransformErrorToStateError>('DAFF_AUTHORIZENET_ERROR_MATCHER', {factory: () => daffTransformErrorToStateError});\n"],"names":[],"mappings":";;;;;;;;;;;AAAA,kCAMC;;;IALA,uCAAiC;;IACjC,uCAGE;;;;;AAGH,qCAKC;;;IAJA,4CAAmB;;IACnB,0CAAiB;;IACjB,uCAAc;;IACd,sCAAa;;;;;;;;;;ACZd,kCAGC;;;IAFA,mCAAa;;IACb,mCAAa;;;;;AAGd,mCASC;;;IARA,0CAGE;;IACF,wCAGE;;;;;;;;;;;;ACbH;;;;;;;AAQA,IAAa,sCAAsC,GAAG,IAAI,cAAc,CAEtE,wCAAwC,EAAE;IAC3C,UAAU,EAAE,MAAM;IAClB,OAAO;;;IAAE,cAAM,OAAA,KAAK,GAAA,CAAA;CACpB,CAAC;;;;;;ACbF;IAKM,qBAAqB,GAAG,2CAA2C;;IACnE,wBAAwB,GAAG,uCAAuC;AAIxE;IAIC,oCACyD,UAAmB,EACjD,GAAG;QAD2B,eAAU,GAAV,UAAU,CAAS;QACjD,QAAG,GAAH,GAAG,CAAA;KAC1B;;;;IAEJ,yCAAI;;;IAAJ;QACC,IAAI,OAAO,MAAM,KAAK,WAAW,EAAE;;gBAC5B,cAAc,GAAG,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,QAAQ,CAAC;YACvD,cAAc,CAAC,KAAK,GAAG,IAAI,CAAC;YAC5B,cAAc,CAAC,YAAY,CAAC,MAAM,EAAE,iBAAiB,CAAC,CAAC;YACvD,cAAc,CAAC,YAAY,CAC1B,KAAK,EACL,IAAI,CAAC,UAAU,GAAG,wBAAwB,GAAG,qBAAqB,CAClE,CAAC;YACF,cAAc,CAAC,YAAY,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;YAChD,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,CAAC;SAC1C;KACD;;;;IAED,8CAAS;;;IAAT;QACC,OAAO,MAAM,CAAC;KACd;;gBAzBD,UAAU,SAAC;oBACX,UAAU,EAAE,MAAM;iBAClB;;;;8CAGE,MAAM,SAAC,sCAAsC;gDAC7C,MAAM,SAAC,QAAQ;;;qCAhBlB;CAUA,IA0BC;;;;;;IArBC,gDAA2E;;;;;IAC3E,yCAA6B;;;;;;;;;;;;AChB/B;;;;;AAQA,IAAa,+BAA+B,GAAG,IAAI,cAAc,CAAwC,iCAAiC,EAAE,EAAC,OAAO;;;IAAE,cAAM,OAAA,8BAA8B,GAAA,CAAA,EAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;"}