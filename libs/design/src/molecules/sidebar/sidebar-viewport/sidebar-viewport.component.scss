@import '../../../scss/daff-util';

$sidebar-width: 290px;

// Stacking Context Layers
$daff-sidebar-backdrop-z-index: 3;
$daff-sidebar-content-z-index: 2;
$daff-sidebar-viewport-z-index: 1;

:host {
	$root: '.daff-sidebar-viewport';
	display: flex;
	overflow: hidden;
	position: relative;
	width: 100%;
	z-index: $daff-sidebar-viewport-z-index;
	// fixes a bug where certain elements show in front of backdrop for a second.

	&.fullscreen { /* stylelint-disable-line selector-class-pattern */
		> #{$root}__content {
			min-height: 100vh;
		}
	}

	&.push { /* stylelint-disable-line selector-class-pattern */
		overflow: hidden;
		> #{$root}__content {
			transform: translate3d($sidebar-width, 0, 0);
		}
	}

	&.fixed-side { /* stylelint-disable-line selector-class-pattern */
		> #{$root}__content {
			position: relative;
			width: calc(100% - #{$sidebar-width});
			left: $sidebar-width;
		}
	}
}

.daff-sidebar-viewport {
	$root: &;

	&__content {
		flex: 0 1 auto;
		height: 100%;
		min-width: 0;
		width: 100%;
		overflow: auto;
		z-index: $daff-sidebar-content-z-index;
	}

	&__backdrop {
		@include clickable();
		position: absolute;
		height: 100%;
		width: 100%;
		z-index: $daff-sidebar-backdrop-z-index;
	}
}
